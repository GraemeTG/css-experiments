<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/header1.css">
  <link rel="stylesheet" href="css/javascript30/drum-machine.css">

  <meta name="theme-color" content="#fafafa">
</head>

<body ontouchstart>
  <!-- Header Start -->
  <header class="site-header">
    <div class="wrapper site-header__wrapper">
      <a href="#" class="brand">COMPUTER SOUND</a>
      <nav class="nav">
        <button class="nav__toggle" aria-expanded="false" type="button">
          menuu
        </button>
        <ul class="nav__wrapper">
          <li class="nav__item"><a href="https://css-experiments-01.netlify.app">Home</a></li>
          <li class="nav__item"><a href="https://css-experiments-01.netlify.app/drum-machine.html">JS Drum Machine</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
  <!-- Header End -->


  <!--<section id="hero">
    <div class="container">
      <nav>
        <h1>My Headers</h1>
        <ul>
          </li>Home</li>
          </li>About</li>
          </li>Contact</li>
        </ul>
      </nav>
      <div class="content">
        <p>17 cool headers for use</p>
        <button>Leran More</button>
      </div>
    </div>
  </section>-->

  <section>
    <h2 class="dm-title">JS Drum Machine</h2>
    <p>Hit the corresponding keys on your keyboard.</p>
    <div class="wrapper content">
      <div class="keys">
        <div data-key="65" class="key">
          <kbd>A</kbd>
          <span class="sound">clap</span>
        </div>
        <div data-key="83" class="key">
          <kbd>S</kbd>
          <span class="sound">hihat</span>
        </div>
        <div data-key="68" class="key">
          <kbd>D</kbd>
          <span class="sound">kick</span>
        </div>
        <div data-key="70" class="key">
          <kbd>F</kbd>
          <span class="sound">openhat</span>
        </div>
        <div data-key="71" class="key">
          <kbd>G</kbd>
          <span class="sound">boom</span>
        </div>
        <div data-key="72" class="key">
          <kbd>H</kbd>
          <span class="sound">ride</span>
        </div>
        <div data-key="74" class="key">
          <kbd>J</kbd>
          <span class="sound">snare</span>
        </div>
        <div data-key="75" class="key">
          <kbd>K</kbd>
          <span class="sound">tom</span>
        </div>
        <div data-key="76" class="key">
          <kbd>L</kbd>
          <span class="sound">tink</span>
        </div>
      </div>

      <audio data-key="65" src="sounds/clap.wav"></audio>
      <audio data-key="83" src="sounds/hihat.wav"></audio>
      <audio data-key="68" src="sounds/kick.wav"></audio>
      <audio data-key="70" src="sounds/openhat.wav"></audio>
      <audio data-key="71" src="sounds/boom.wav"></audio>
      <audio data-key="72" src="sounds/ride.wav"></audio>
      <audio data-key="74" src="sounds/snare.wav"></audio>
      <audio data-key="75" src="sounds/tom.wav"></audio>
      <audio data-key="76" src="sounds/tink.wav"></audio>

      <script>

        function playSound(e) {
          const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
          const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
          if (!audio) return; // stop function from running if no audio
          audio.currentTime = 0; // rewind to the start
          audio.play();
          key.classList.add('playing');
          /*key.classList.remove('playing');*/
          /*key.classList.toggle('playing');*/
          console.log(audio);
        };

        function removeTransition(e) {
          if (e.propertyName !== 'transform') return; // skip it if it's not a transform
          this.classList.remove('playing');
        }

        const keys = document.querySelectorAll('.key');
        keys.forEach(key => key.addEventListener('transitionend', removeTransition));

        window.addEventListener('keydown', playSound);
      </script>
    </div>
  </section>

  <footer>
    <div class="wrapper">
      <h2>About</h2>
      <p>Thanks to Wes Bos and <a href="https://wesbos.com/courses">his courses</a>.</p>
      <div class="author">
        <!--<img class="author-avatar" src="img/shadeed.jpg" alt="" />-->
        <div class="author-meta">
          <h3 class="author-name">Graeme T-Gill</h3>
          <p class="author-desc">

          </p>
        </div>
      </div>

      <p>
        Follow on
        <a href="https://twitter.com/graemeatg">Twitter [@graemeatg]</a>
      </p>
    </div>
  </footer>

  <script src="js/javascript30/drum-machine.js"></script>
</body>

</html>